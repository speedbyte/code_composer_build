/******************************************************************************/
/*****************  Copyright (c) 2008 by S1nn GmbH & Co. KG  *****************/
/***************************  All Rights Reserved  ****************************/
/******************************************************************************/

/******************************************************************************/
/* File Name: WD_c1.c
*-----------------------------------------------------------------------------
* Module Name: WD (Watchdog)   
*-----------------------------------------------------------------------------
* Description: Toggle external WD chip to guarantee that board is not reset
*-----------------------------------------------------------------------------
* $Date: 2010-09-14 11:18:52 +0200 (Di, 14 Sep 2010) $
* $Rev: 15061 $
* $Author: agrawal $
* $URL: http://subversion-01/svn/SW_HW_System/Plattform/TMS470/MOD/MOD_WD/trunk/src/WD_c1.c $
*-----------------------------------------------------------------------------
*/
/******************************************************************************/

/*----------------------------------------------------------------------------*/
/* System Includes                                                            */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* Libraries from external Vendors                                            */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* Own Header Files                                                           */
/*----------------------------------------------------------------------------*/
#include "Common.h"
#include "GIO.h"
#include "WD_c1.h"

/*----------------------------------------------------------------------------*/
/* pragma Directives                                                          */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* Global Variables Definitions (avoid as much as possible!)                  */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* Private Manifest Constant Definitions                                      */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/* Private Types                                                              */
/*----------------------------------------------------------------------------*/
/** 
\brief	description of the type
*/

/*----------------------------------------------------------------------------*/
/* Prototypes of file local Methods                                           */
/*----------------------------------------------------------------------------*/
/** 
\brief	description of the method
*/

/*----------------------------------------------------------------------------*/
/* File local Code Macros                                                        */
/*----------------------------------------------------------------------------*/
/** 
\brief	description of the macros
*/

/*----------------------------------------------------------------------------*/
/* File local Variables                                                       */
/*----------------------------------------------------------------------------*/
/** 
\brief	description of the local variables
*/
/*----------------------------------------------------------------------------*/
/* File local const Definitions                                               */
/*----------------------------------------------------------------------------*/
/** 
\brief	description of the private constant
*/

/*----------------------------------------------------------------------------*/
/* Private Address Calculations                                               */
/*----------------------------------------------------------------------------*/


/*----------------------------------------------------------------------------*/
/* Function    : WD_u8Init                                                    */
/** 
    \brief      Init modul WD
  
    \brief      Description:
                Initalitation of the modul. Set all necessary
                internal variables. Trigger external Watchdog modul

    \param      viod
    \return     Uint8Type
                TRUE: Init sucessful. WD trigger
                FALSE: Init not sucessful or WD  not triggered.
   */
/*----------------------------------------------------------------------------*/
Uint8Type WD_u8Init(void)
{
   GIO_vPinModify(GIOD, PORT_MON_WATCHDOG, PortIoOutHigh);
   
   return(TRUE);
}/* END OF Function WD_u8Init */


/*----------------------------------------------------------------------------*/
/* Function    : WD_u8ToggleWD                                                */
/** 
    \brief      Trigger WD
      
    \brief      Description:
                Trigger external Watchdog modul 
    
    \param      void 
    \return     Uint8Type
                TRUE: Init sucessful. WD trigger
                FALSE: Init not sucessful or WD  not triggered.    
   */
/*----------------------------------------------------------------------------*/
Uint8Type WD_u8ToggleWD(void)
{
    /* TogglGIO_u8PinReade WD port                        */
    /* Call GPIO Function to set port for WD */  
    if (TRUE == GIO_u8PinRead(PORT_MON_WATCHDOG, GIOD))
    {
        GIO_vPinWrite(PORT_MON_WATCHDOG, LOW, GIOD);
    }
    else
    {
        GIO_vPinWrite(PORT_MON_WATCHDOG, HIGH, GIOD);
    }
    return(TRUE);
}/* END OF Function WD_u8ToggleWD */


/* End Of File WD_c1.c */
